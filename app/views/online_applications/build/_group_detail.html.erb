<div class="row">
  <div class="col-md-12">
    <hr>
    <%= error_messages_for_object f.object %>
  </div>
</div>

<div class="row">
  <div class="col-md-12 text-center">
    <h4><%= online_application.firstname -%> <%= online_application.surname -%></h4>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="form-group required">
      <div class="row">
        <div class="col-md-6">
          <%= f.label :language_name, t(:language_name), class: 'control-label' %>
        </div>
        <div class="col-md-6">
          <%= f.label :language_proficiency, t(:language_proficiency), class: 'control-label' %>
        </div>
      </div>
      <%= f.fields_for :online_application_languages do |lf| -%>
        <div class="row">
          <div class="col-md-6">
            <%= lf.select(:language_id, @languages, {:include_blank => t(:choose_one)}, { :class => 'form-control' }) %>
          </div>
          <div class="col-md-6">
            <%= lf.select(:proficiency, @language_proficiencies, {:include_blank => t(:choose_one)}, { :class => 'form-control' }) %>
          </div>
        </div>
      <% end -%>
    </div>
    <div class="form-group required">
      <%= f.label :translation_needed, t(:translation_needed), class: 'control-label' %>
      <div class="row">
        <div class="col-md-3">
          <%= t :english %>:
        </div>
        <div class="col-md-9">
          <%= f.select("translate_english", [[t(:no),false], [t(:yes),true]], { :class => 'form-control' }) %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <%= t :french %>:
        </div>
        <div class="col-md-9">
          <%= f.select("translate_french", [[t(:no),false], [t(:yes),true]], { :class => 'form-control' }) %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <%= t :german %>:
        </div>
        <div class="col-md-9">
          <%= f.select("translate_german", [[t(:no),false], [t(:yes),true]], { :class => 'form-control' }) %>
        </div>
      </div>
    </div>

    <div class="form-group required">
      <div class="row">
        <div class="col-md-12">
          <%= f.label :communications_language, t(:communications_language), class: 'control-label' %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <%= f.select(:communications_language_id, @communications_languages, {:include_blank => t(:choose_one)}, { :class => 'form-control' }) %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :special_dietary_requirements, t(:special_dietary_requirements) %><br />
      <%= t(:diet_detail_html) %><br/><br/>
      <strong><%= t(:diet_i_have_dietary_requests) %></strong><br/>
      <% Diet.with_translations.order(:priority_sort).each do |diet| -%>
        <div>
          <% @old_locale = I18n.locale; I18n.locale = 'en' -%>
          <%= check_box_tag :diet_ids, diet.id, online_application.diets.include?(diet), :name => "application_group[online_applications_attributes][#{f.object_name.gsub(/[^0-9]+/,'')}][diet_ids][]", :id => "diet_check_#{diet.name.downcase}", :class => ( diet.name == 'Other' ? "diet_other_#{online_application.id}" : '' ) %>
          <% I18n.locale = @old_locale -%>
          <%= label_tag :diet_ids, diet.name %>
        </div>
        <% if diet.name == 'Halal' -%>
          <div>&nbsp;&nbsp;&nbsp;&nbsp;<i><%= t(:diet_ramadan_info) -%></i></div><br/>
          <strong><%= t(:diet_i_have_medical_allergy_requests) %></strong><br/>
        <% end -%>
      <% end -%>
      <div><%= t(:diet_closing_text) %></div>
    </div>
  </div>
</div>
